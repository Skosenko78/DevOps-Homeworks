# **6.1. Типы и структура СУБД.**

# *Задача 1*
Выбрать тип БД для хранения определенных данных.

- Электронные чеки в json виде

    Документо-ориентированная СУБД. Данная СУБД позволяет работать с объектом, как с единым целым. Все данные хранятся в одном объекте базы данных. 

- Склады и автомобильные дороги для логистической компании

    Графовые СУБД. Узлы представляют собой объекты, ребра отношения. Можно задавать стоимость доставки до складов и строить более выгодные маршруты.

- Генеалогические деревья

    Сетевые СУБД. Сетевые базы данных имеют иерархическую структуру, записи связаны друг с другом через связи в отношениях родитель-потомок.

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации

    СУБД Ключ-значение. Данные хранятся как совокупность пар «ключ‑значение», в которых ключ служит уникальным идентификатором. Можно задать время жизни записи.

- Отношения клиент-покупка для интернет-магазина

    Реляционные СУБД. Позволяет использовать транзакции. Высокая доступность и целостность.

# *Задача 2*
Классификация системы согласно CAP-теореме.

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)

Асинхронная запись подразумевает, что мы допускаем разные ответы от разных узлов при нормальном режиме работы. В таком случае нам важна доступность (availability) в ущерб согласованности (consistency), но при этом есть устойчивость к сетевому разделению.

    CAP: AP

    PACELC: PA/EL

- При сетевых сбоях, система может разделиться на 2 раздельных кластера

В данном случае не указано, что система должна всегда выдавать ответ, полагаем, что важна согласованность данных (consistency) в ущерб доступности (availability). Но при этом явно указано, что система должна быть устойчивой к сетевому разделению. Значит система должна гарантировать согласованность и целостность данных, при этом не вносить изменения и не выдавать ответы.

    CAP: CP

    PACELC: PC/EC

- Система может не прислать корректный ответ или сбросить соединение

Здесь система не может дать не точный ответ на запрос, должна быть обеспечена согласованность и целостность данных (consistency), но в тоже время обязательно должна быть какая-то реакция на обращение (availability). В случае с сетевым сбоем обеспечить согласованность мы не можем, поэтому данная система не устойчива к разделению. 

    CAP: CA

    PACELC: PC/EC

# *Задача 3*
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Нет. Это два противопоставляющих друг другу принципа. BASE позволяет проектировать высокопроизводительные системы, ACID высоконадежные системы. 

# *Задача 4*
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

В системе pub/sub отправители сообщений не привязаны к подписчикам. Сообщения делятся на классы и не содержат сведений о своих подписчиках. Аналогичным образом подписчики имеют дело с одним или несколькими классами сообщений и не привязаны к конкретным издателям. Системы pub/sub следует использовать в тех случаях, когда события могут быть потеряны. Если в момент публикации не будет ни одного подписчика, то событие уйдёт в никуда - минус данной системы.

Для данных целей может быть использована БД Redis. Из минусов наверно то, что объём данных, который может храниться на сервере, ограничен объёмом оперативной памяти этого сервера.